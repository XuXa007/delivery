# Система приемки поставок от поставщиков

## Описание проекта

Система предназначена для учета и управления поставками продукции от различных поставщиков. В системе есть 3 поставщика, каждый из которых может поставлять 2 вида груш и 2 вида яблок по заранее определенным ценам.

## Технологии

### Backend
- Java 17
- Spring Boot
- Spring Data JPA
- Hibernate
- PostgreSQL
- Gradle

### Frontend
- Thymeleaf (шаблонизатор на стороне сервера)
- Bootstrap 5 (для стилизации интерфейса)
- jQuery (для интерактивных элементов)
- HTML/CSS/JavaScript

## Функциональные возможности

1. **Управление поставщиками**
   - Создание, чтение, обновление и удаление поставщиков
   - Веб-интерфейс для управления поставщиками

2. **Управление продукцией**
   - Создание, чтение, обновление и удаление продуктов
   - Поддержка различных типов продукции (яблоки и груши разных сортов)
   - Веб-интерфейс для управления продуктами

3. **Управление прайс-листами**
   - Каждый поставщик может иметь свои цены на каждый вид продукции
   - Цены действуют в определенный период
   - Возможность деактивации устаревших прайс-листов

4. **Управление поставками**
   - Регистрация поставок от поставщиков
   - В одной поставке может быть несколько видов продукции
   - Для каждой позиции указывается количество и цена
   - Веб-интерфейс для создания и просмотра поставок

5. **Отчетность**
   - Формирование отчетов о поставках за выбранный период
   - Группировка данных по поставщикам и продукции
   - Расчет итогов по весу и стоимости
   - Веб-интерфейс для формирования и просмотра отчетов
   - Возможность печати отчетов

## API Endpoints

### Поставщики

- `GET /api/providers` - Получить всех поставщиков
- `GET /api/providers/{id}` - Получить поставщика по ID
- `POST /api/providers` - Создать нового поставщика
- `PUT /api/providers/{id}` - Обновить поставщика
- `DELETE /api/providers/{id}` - Удалить поставщика

### Продукты

- `GET /api/products` - Получить все продукты
- `GET /api/products/by-type?productType=APPLE_TYPE_1` - Получить продукты по типу
- `GET /api/products/{id}` - Получить продукт по ID
- `POST /api/products` - Создать новый продукт
- `PUT /api/products/{id}` - Обновить продукт
- `DELETE /api/products/{id}` - Удалить продукт

### Прайс-листы

- `GET /api/price-lists` - Получить все прайс-листы
- `GET /api/price-lists/by-provider/{providerId}` - Получить прайс-листы по поставщику
- `GET /api/price-lists/{id}` - Получить прайс-лист по ID
- `GET /api/price-lists/active?providerId=1&productId=1&date=2023-01-15` - Получить актуальный прайс-лист
- `POST /api/price-lists` - Создать новый прайс-лист
- `PUT /api/price-lists/{id}` - Обновить прайс-лист
- `PUT /api/price-lists/{id}/deactivate` - Деактивировать прайс-лист
- `DELETE /api/price-lists/{id}` - Удалить прайс-лист

### Поставки

- `GET /api/deliveries` - Получить все поставки
- `GET /api/deliveries/by-period?startDate=2023-01-01T00:00:00&endDate=2023-01-31T23:59:59` - Получить поставки за период
- `GET /api/deliveries/by-provider/{providerId}` - Получить поставки по поставщику
- `GET /api/deliveries/by-provider/{providerId}/by-period?startDate=2023-01-01T00:00:00&endDate=2023-01-31T23:59:59` - Получить поставки по поставщику за период
- `GET /api/deliveries/{id}` - Получить поставку по ID
- `POST /api/deliveries` - Создать новую поставку
- `PUT /api/deliveries/{id}` - Обновить поставку
- `DELETE /api/deliveries/{id}` - Удалить поставку

### Отчеты

- `GET /api/reports/deliveries?startDate=2023-01-01T00:00:00&endDate=2023-01-31T23:59:59` - Сформировать отчет о поставках за период

## Запуск приложения

1. Клонировать репозиторий
2. Перейти в каталог проекта
3. Запустить приложение:
   - Для Maven: `mvn spring-boot:run`
   - Для Gradle: `./gradlew bootRun`
4. Приложение будет доступно по адресу:
   - REST API: `http://localhost:8080/api/...`
   - Веб-интерфейс: `http://localhost:8080/web`

## База данных

Проект использует PostgreSQL в качестве основной базы данных. 

### Подготовка PostgreSQL

1. Убедитесь, что PostgreSQL установлен и запущен на вашем компьютере
2. Создайте базу данных перед запуском приложения:
   ```sql
   CREATE DATABASE delivery_db;
   ```
3. Настройки подключения к БД могут быть изменены в файле `application.properties`
4. Миграции базы данных осуществляются с помощью Flyway

По умолчанию используются следующие настройки:
- JDBC URL: `jdbc:postgresql://localhost:5432/delivery_db`
- Username: `postgres`
- Password: `postgres`

## Демонстрационные данные

В систему предварительно загружены:
- 3 поставщика
- 4 вида продукции (2 вида яблок и 2 вида груш)
- Прайс-листы для всех поставщиков и продуктов

## Будущие улучшения

- Добавление аутентификации и авторизации
- Разработка пользовательского интерфейса
- Расширение функциональности отчетов
- Добавление уведомлений о поставках
- Интеграция с внешними системами
